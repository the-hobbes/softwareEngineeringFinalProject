<!doctype html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<title>Game</title>
		<meta name="description" content="">
		<link rel="stylesheet" href="css/style.css" type="text/css" media="screen">
		<link rel="stylesheet" href="css/jqModal.css" type="text/css" media="screen">
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
		<script src="scripts/jqModal.js"></script>
		<script src="scripts/gameRender.js"></script>

		<script>

		jQuery().ready(function($){

			//initialize each hidden dialog div with before it can be shown
			// $('#startDialog').jqm();
			$('#creditsDialog').jqm();
			$('#rulesDialog').jqm();

			//add event handlers to each button, which will fire when clicked and call jqmShow() on the dialogs
			 // $('#startButton').live('click',function(){
			 //      $('#startDialog').jqmShow();
			 // });
			 $('#creditsLink').live('click',function(){
			      $('#creditsDialog').jqmShow();
			 });
			 $('#rulesLink').live('click',function(){
			      $('#rulesDialog').jqmShow();
			 });
		});
		</script>
	</head>

	<body>
	 	<div id="infoBox">
	 		<a href="#"><p id="rulesLink">Rules</p></a>
			<a href="#"><p id="creditsLink">Credits</p></a>
			<p><a href="/scores" target="_blank">Here is a link to the scores</a></p>
	 		<p><a href="https://github.com/the-hobbes/softwareEngineeringFinalProject">Here is a link quit</a></p>
	 	</div><!--end infobox-->
		<div id="container" class="shadow" style="margin-top:30px;">
			<div id="opponentCards" class="shadow">
				<div style="background:url(images/cards/smallCards/13.png);" id="opCard1" class="card" onclick="console.log('opCard1')">
					<div class="cardShine"></div>
				</div>
				<div style="background:url(images/cards/smallCards/13.png);" id="opCard2" class="card" onclick="console.log('opCard2')">
					<div class="cardShine"></div>
				</div>
				<div style="background:url(images/cards/smallCards/13.png);" id="opCard3" class="card" onclick="console.log('opCard3')">
					<div class="cardShine"></div>
				</div>
				<div style="background:url(images/cards/smallCards/13.png);" id="opCard4" class="card" onclick="console.log('opCard4')">
					<div class="cardShine"></div>
				</div>
			</div><!--end opponentCards-->

			<div id="discardPile" class="shadow" onclick="console.log('discardPile')"></div><!--end discardPile-->
			<div id="deck" class="shadow" onclick="console.log('deckClicked')"></div><!--end deck-->
			<div id="currentCard" class="shadow"></div><!--end currentCard-->
			<button id="knockButton" class="shadow" onclick="testJson()">Knock</button><!--end knockButton-->

			<div id="playerCards" class="shadow">
				<div style="background:url(images/cards/smallCards/13.png);" id="playerCard1" class="card" onclick="console.log('playerCard1')">
					<div class="cardShine"></div>
				</div>
				<div style="background:url(images/cards/smallCards/13.png);" id="playerCard2" class="card" onclick="console.log('playerCard2')">
					<div class="cardShine"></div>
				</div>
				<div style="background:url(images/cards/smallCards/13.png);" id="playerCard3" class="card" onclick="console.log('playerCard3')">
					<div class="cardShine"></div>
				</div>
				<div style="background:url(images/cards/smallCards/13.png);" id="playerCard4" class="card" onclick="console.log('playerCard4')">
					<div class="cardShine"></div>
				</div>
			</div><!--end playerCards-->
		</div><!-- end container -->

		{% include "rules.html" %}
		{% include "credits.html" %}

		<script>
		var currentState;
		currentState = renderState({{oldState}},{{newState}});
		//Test code:		
		function testJson(){
			// var testSon = {  "compCard" : [
			// 			 {image : "1", active : 0,'visible' : 0}, 
			// 			 {image : "2", active : 0,'visible' : 0}, 
			// 			 {image : "3", active : 0,'visible' : 0},
			// 			 {image : "4", active : 0,'visible' : 0}], 
			// 			 "discard" : [0,1,2], "deck" : [3,4,5], 
			// 			 "playCard" : [
			// 			 {image : "0", active : 0,'visible' : 0}, 
			// 			 {image : "5", active : 0,'visible' : 0}, 
			// 			 {image : "6", active : 0,'visible' : 0},
			// 			 {image : "7", active : 0,'visible' : 0}], 
			// 			 "displayCard" : {image : "0", active : 0}, 
			// 			 "knockState" : 0 | 1, 
			// 			 "state" : "state specified by specs that will go to a statement" };

			// console.log("got here!!!!111")
			// data: JSON.stringify([{val1: 'herp', val2:'derp', val3:'lerp'}]),
			// currentState = renderState({{oldState}},{{newState}});

			$.ajax('/game',
				{
					type: 'POST',
					data: JSON.stringify(currentState),
					contentType: "application/json",
				    dataType: 'json',
					success: function(data){
						alert(data);
						// console.log(data);
					}
				}); 

		}

		

		// currentState = renderState(null,testSon);
		//End Test Code
		</script>

	</body>
</html>